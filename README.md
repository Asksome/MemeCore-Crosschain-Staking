## ğŸŒŒ MemeCore Universal Warp Gate & Yield Hub

**â€œUnlocking the Value of Memecoins: The Ultimate DeFi Layer.â€**  
ì†”ë¼ë‚˜, ë² ì´ìŠ¤, íŠ¸ë¡  ë“± íŒŒí¸í™”ëœ ë°ˆì½”ì¸ ìœ ë™ì„±ì„ MemeCore ë©”ì¸ë„·ìœ¼ë¡œ ëŒì–´ì™€  
**ìŠ¤í…Œì´í‚¹ ê¸°ë°˜ ì´ì(Yield)** ë¥¼ ìƒì„±í•˜ëŠ” í¬ë¡œìŠ¤ì²´ì¸ ê¸ˆìœµ í—ˆë¸Œì…ë‹ˆë‹¤.

---

### 1. ğŸ“– í”„ë¡œì íŠ¸ ê°œìš” (Why This Project?)

#### 1-1. ë¬¸ì œ ì •ì˜ â€“ â€œìœ ë™ì„±ì€ ë„˜ì¹˜ì§€ë§Œ, ìƒì‚°ì„±ì€ ì—†ë‹¤â€

- **ë°ˆì½”ì¸ ì‹œì¥ ê·œëª¨**  
  - 2025ë…„ ê¸°ì¤€ ë°ˆì½”ì¸(Memecoin) ì„¹í„°ëŠ” ì „ì²´ ì•”í˜¸í™”í ì‹œì´ì˜ **ì•½ 7%** ë¥¼ ì°¨ì§€í•  ì •ë„ë¡œ ì»¤ì¡ŒìŠµë‹ˆë‹¤.  
  - Solana ì²´ì¸ì—ì„œëŠ” **í•˜ë£¨ 1ë§Œ ê°œ** ìˆ˜ì¤€ì˜ ì‹ ê·œ í† í°ì´ ìŸì•„ì§‘ë‹ˆë‹¤.
- **í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì€ Zero-Yield ìì‚°**
  - ë¹„íŠ¸ì½”ì¸ íšŒì „ìœ¨: ì•½ **1.8%**
  - ë°ˆì½”ì¸ íšŒì „ìœ¨: ì•½ **77%**
  - â†’ ë°ˆì½”ì¸ ë³´ìœ ìëŠ” í† í°ì„ **DeFiì— ìƒì‚°ì ìœ¼ë¡œ ë„£ì§€ ì•Šê³ **,  
    ë‹¨ê¸° íˆ¬ê¸° í˜¹ì€ ê·¸ëƒ¥ â€œì§€ê°‘ì— ë°©ì¹˜â€í•˜ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì…ë‹ˆë‹¤.

ì¦‰, **ëŒ€ë¶€ë¶„ì˜ ë°ˆì½”ì¸ì€ â€œZero-Yield(ë¬´ìˆ˜ìµ)â€ ìì‚°**ì…ë‹ˆë‹¤.

#### 1-2. ì†”ë£¨ì…˜ â€“ MemeCoreë¥¼ ë°ˆì½”ì¸ì˜ â€œê¸ˆìœµ ìˆ˜ë„â€ë¡œ

**MemeCore Warp Gate** ëŠ” ì™¸ë¶€ ì²´ì¸(ì˜ˆ: Solana, Base, Tron ë“±)ì— ê³ ë¦½ëœ ë°ˆì½”ì¸ ìœ ë™ì„±ì„  
**MemeCore ë©”ì¸ë„·ìœ¼ë¡œ ë¸Œë¦¿ì§€ â†’ ì˜ˆì¹˜(Stake) â†’ Validator ìˆ˜ìµ ë¶„ë°°**ê¹Œì§€ ì´ì–´ì£¼ëŠ” ë ˆì´ì–´ì…ë‹ˆë‹¤.

- ë‹¨ìˆœ ìì‚° ì´ë™ì´ ì•„ë‹Œ, **â€œìˆ˜ìµ ì°½ì¶œ í—ˆë¸Œì™€ MemeCore ì˜ ì•„ì´ë´í‹°í‹° ì •ë¦½â€** ì…ë‹ˆë‹¤.
- ì‚¬ìš©ìëŠ”:
  1. Solana ë“± L1ì—ì„œ ë°ˆì½”ì¸ì„ **Vault ì§€ê°‘ìœ¼ë¡œ ì „ì†¡ (Bridge In)**
  2. MemeCoreì—ì„œ í•´ë‹¹ ìì‚°ì˜ **M-Token (Wrapped ERC20)** ìˆ˜ë ¹
  3. M-Token ì„ `MemeCoreStaking` ì— ìŠ¤í…Œì´í‚¹
  4. **ë„¤íŠ¸ì›Œí¬ ë°¸ë¦¬ë°ì´í„° ìˆ˜ìµ(ê°€ìŠ¤ ìˆ˜ìˆ˜ë£Œ) + ìƒíƒœê³„ ë¦¬ì›Œë“œ**ë¥¼ ì¼ì¼ ë¶„ë°° í˜•íƒœë¡œ ìˆ˜ë ¹

ğŸ‘‰ ê²°ê³¼ì ìœ¼ë¡œ, **â€œë°ˆì½”ì¸ì„ ë“¤ê³ ë§Œ ìˆì–´ë„ ìˆ˜ìµì´ ìŒ“ì´ëŠ” êµ¬ì¡°, MemeCore ë©”ì¸ë„·ì˜ ë°ˆì½”ì¸ ì»¤ë®¤ë‹ˆí‹° ì¸ì§€ë„ í–¥ìƒì„â€**  ë§Œë“œëŠ” ê²ƒì´ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ëª©í‘œì…ë‹ˆë‹¤.

ë™ì‹œì—, MemeCore ë„¤íŠ¸ì›Œí¬ ë ˆë²¨ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ íš¨ê³¼ë¥¼ ë…¸ë¦½ë‹ˆë‹¤.

- **TVL ì¦ê°€**  
  - ì™¸ë¶€ ì²´ì¸ ë°ˆì½”ì¸ì´ Vault â†’ M-í† í°ìœ¼ë¡œ ì „í™˜ë˜ì–´ MemeCore ìƒ TVL ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì»¤ì§‘ë‹ˆë‹¤.
  - MemeCore ìƒíƒœê³„ ì „ì²´ì˜ ì˜¨ì²´ì¸ ìì‚° ê·œëª¨ê°€ í™•ëŒ€ë˜ê³ , ë””íŒŒì´/í”„ë¡œí† ì½œ ì—°ê³„ ì—¬ì§€ê°€ ëŠ˜ì–´ë‚©ë‹ˆë‹¤.
- **TPS / ì˜¨ì²´ì¸ Activity ì¦ê°€**  
  - ë¸Œë¦¿ì§€ ë¯¼íŒ…/ë²ˆ, ìŠ¤í…Œì´í‚¹/ì–¸ìŠ¤í…Œì´í‚¹, ë³´ìƒ ì²­êµ¬ íŠ¸ëœì­ì…˜ì´ ìƒì‹œ ë°œìƒí•˜ì—¬  
    MemeCore ë¸”ë¡ì²´ì¸ ìì²´ì˜ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ëŸ‰ê³¼ í™œì„±ë„ê°€ í•¨ê»˜ ìƒìŠ¹í•©ë‹ˆë‹¤.
- **ë¸Œëœë“œ ì •ì²´ì„± ê°•í™”**  
  - â€œ**MemeCore = ë°ˆì½”ì¸ ìˆ˜ìµ/ìŠ¤í…Œì´í‚¹ í—ˆë¸Œ**â€ ë¼ëŠ” í¬ì§€ì…”ë‹ì„ í†µí•´,  
    ë‹¨ìˆœ L1 ì„ ë„˜ì–´ ë°ˆì½”ì¸ ì»¤ë®¤ë‹ˆí‹°ì˜ ê±°ì  ì²´ì¸ìœ¼ë¡œì„œì˜ ì´ë¯¸ì§€ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤.
- **MemeCoreì˜ ë¯¸ë˜ ì§€í–¥ì **  
  - ì´ í”„ë¡œì íŠ¸ëŠ” MemeCoreë¥¼ â€œë°ˆì½”ì¸ ìƒíƒœê³„ì˜ ê¸ˆìœµ ìˆ˜ë„â€ë¡œ ë§Œë“¤ê¸° ìœ„í•œ ì²« ë‹¨ê³„ì…ë‹ˆë‹¤.  
  - í¬ë¡œìŠ¤ì²´ì¸ ìœ ë™ì„±ê³¼ ì§€ì† ê°€ëŠ¥í•œ ìˆ˜ìµ ëª¨ë¸ì„ ê²°í•©í•´, ë„¤íŠ¸ì›Œí¬ ì¥ê¸° ì„±ì¥ ë™ë ¥ì„ í™•ë³´í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

---

### 2. ğŸ›ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ (Architecture)

ë³¸ í”„ë¡œì íŠ¸ëŠ” **On-chain (Solidity) + Off-chain (Node.js)** í•˜ì´ë¸Œë¦¬ë“œ êµ¬ì¡°ì…ë‹ˆë‹¤.

- **On-chain (MemeCore EVM)**  
  - `BridgeFactory` â€“ í¬ë¡œìŠ¤ì²´ì¸ ë©í•‘/ì–¸ë©í•‘ ê²Œì´íŠ¸ì›¨ì´ (EIP-1167 Minimal Proxy ê¸°ë°˜)
  - `BridgeWrappedToken` â€“ Solana SPL â†’ EVM ERC20 ë¡œ ë©í•‘ëœ ìì‚° (M-Token)
  - `MemeCoreStaking` â€“ ë‹¨ì¼ í’€ ê¸°ë°˜ ìŠ¤í…Œì´í‚¹ ë° í˜„ê¸ˆíë¦„(Validator ìˆ˜ìµ) ë¶„ë°°

- **Off-chain**
  - **Relay Server (Node.js)**  
    - Solana Vault ì§€ê°‘ ì…ê¸ˆ ëª¨ë‹ˆí„°ë§ (RPC Polling)  
    - `BridgeFactory.mintFromSolana` / `burnForSolana` í˜¸ì¶œ  
    - Mock Oracle, ë³´ìƒ ë¶„ë°° ìŠ¤ì¼€ì¤„ë§, API ì„œë²„

#### 2-1. ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ (Mermaid)

```mermaid
sequenceDiagram
    autonumber
    participant User as ğŸ‘¤ User (Frontend)
    participant Solana as ğŸŸ£ Solana (L1)
    participant Relay as ğŸ–¥ï¸ Relay Server (Node.js)
    participant Factory as ğŸ­ BridgeFactory (MemeCore)
    participant MToken as ğŸª™ WrappedToken (M-Token)
    participant Staking as ğŸ¦ Staking Contract

    rect rgb(20, 20, 40)
        note right of User: [Process 1] Bridge In (Solana -> MemeCore)
        User->>Solana: 1. SPL í† í° ì „ì†¡ (To: Vault Wallet)
        Relay->>Solana: 2. ì…ê¸ˆ ëª¨ë‹ˆí„°ë§ (RPC Polling)
        Relay->>Relay: 3. ì…ê¸ˆ í™•ì¸ ë° ê²€ì¦
        Relay->>Factory: 4. mintFromSolana()
        alt ì‹ ê·œ í† í°ì¸ ê²½ìš°
            Factory->>MToken: 5a. Clone & Initialize (ìƒˆ ë©í•‘ í† í° ìƒì„±)
        else ê¸°ì¡´ í† í°ì¸ ê²½ìš°
            Factory->>MToken: 5b. Mint (ê¸°ì¡´ ë©í•‘ í† í° ë°œí–‰)
        end
        MToken-->>User: 6. M-Token ìˆ˜ë ¹
    end

    rect rgb(30, 20, 20)
        note right of User: [Process 2] Staking & Rewards
        User->>MToken: 7. Approve
        User->>Staking: 8. stake(amount)
        Relay->>Staking: 9. (ìŠ¤ì¼€ì¤„ëŸ¬/ìŠ¤í¬ë¦½íŠ¸) distributeDailyRewards()
        note right of Staking: ë°¸ë¦¬ë°ì´í„° ìˆ˜ìµ ë¶„ë°°
        User->>Staking: 10. claimRewards()
        Staking-->>User: 11. ë„¤ì´í‹°ë¸Œ M ë³´ìƒ ìˆ˜ë ¹
    end

    rect rgb(20, 40, 20)
        note right of User: [Process 3] Bridge Out (MemeCore -> Solana)
        User->>Relay: 12. Unwrap ìš”ì²­ (ì„œëª… í¬í•¨)
        Relay->>Relay: 13. ì„œëª… ê²€ì¦ (ethers.verifyMessage)
        Relay->>Factory: 14. burnForSolana()
        Factory->>MToken: 15. Burn (M-Token ì†Œê°)
        Relay->>Solana: 16. SPL í† í° ì „ì†¡ (From: Vault -> User)
        Solana-->>User: 17. Solana ì§€ê°‘ìœ¼ë¡œ ìì‚° ë°˜í™˜
    end
```

---

### 3. ğŸ” ì˜¨ì²´ì¸ ì»¨íŠ¸ë™íŠ¸ ìƒì„¸ (On-chain)

ì•„ë˜ ì„¤ëª…ì€ ì‹¤ì œ ë ˆí¬ì˜ `contracts/BridgeFactory.sol`, `BridgeWrappedToken.sol`, `MemeCoreStaking.sol` êµ¬í˜„ì„ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤.

#### 3-1. `BridgeFactory.sol` â€“ Universal Warp Gate

- **ì—­í• **: ë‹¤ì–‘í•œ Solana ë°ˆì½”ì¸ì„ MemeCore ë„¤íŠ¸ì›Œí¬ì˜ M-Token ìœ¼ë¡œ **ë©í•‘/ì–¸ë©í•‘**í•˜ëŠ” ê²Œì´íŠ¸ì›¨ì´

- **í•µì‹¬ ìƒíƒœê°’**
  - `address public immutable tokenImplementation;`  
    - `BridgeWrappedToken` êµ¬í˜„ì²´ ì£¼ì†Œ (ëª¨ë“  í”„ë¡ì‹œì˜ delegatecall ëŒ€ìƒ)
  - `mapping(bytes32 => address) public solMintToWrapped;`  
    - `solMintHash = keccak256(abi.encodePacked(solanaMint))` ë¥¼ key ë¡œ ì‚¬ìš©í•˜ëŠ” Mint â†’ ë©í•‘ í† í° ì£¼ì†Œ ë§¤í•‘
  - `mapping(bytes32 => uint8) public solMintDecimals;`  
    - ê° Solana Mint ì˜ `decimals` ë¥¼ ì €ì¥ (ì˜ëª»ëœ decimals ë¡œ ë¸Œë¦¿ì§€í•˜ëŠ” ì‚¬ê³  ë°©ì§€)

- **ì´ë²¤íŠ¸**
  - **`WrappedTokenDeployed`**  
    - íŠ¹ì • Solana Mint ê°€ ì²˜ìŒ ë¸Œë¦¿ì§€ë  ë•Œ, í•´ë‹¹ Mint ì „ìš© ë©í•‘ í† í° í”„ë¡ì‹œê°€ ìƒì„±ë˜ë©´ ë°œìƒ
  - **`BridgedFromSolana`**  
    - Solana â†’ MemeCore ë¸Œë¦¿ì§€(mint)ê°€ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ ë°œìƒ

- **ì£¼ìš” í•¨ìˆ˜**

  - **`constructor(address _tokenImplementation)`**
    - `BridgeWrappedToken` êµ¬í˜„ì²´ ì£¼ì†Œë¥¼ immutable ë¡œ ì €ì¥
    - `Ownable(msg.sender)` ë¡œ ë°°í¬ìë¥¼ ì˜¤ë„ˆë¡œ ì„¤ì •

  - **`getWrappedToken(bytes32 solMintHash)`**
    - ì™¸ë¶€ì—ì„œ (í”„ë¡ íŠ¸/ì„œë²„) **â€œì´ Mint ëŠ” ì´ë¯¸ ë¸Œë¦¿ì§€ëœ ì  ìˆëŠ”ê°€?â€** ë¥¼ ì²´í¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” view í•¨ìˆ˜

  - **`mintFromSolana(...)` (onlyOwner)**  
    - í˜¸ì¶œ ì£¼ì²´: **ë¦´ë ˆì´ ì„œë²„ì˜ EVM ì§€ê°‘(Validator)**  
    - ë¡œì§ ê°œìš”:
      1. `solMintHash` ë¡œ ê¸°ì¡´ ë©í•‘ í† í° ì£¼ì†Œ ì¡°íšŒ
      2. ì—†ìœ¼ë©´ `Clones.clone(tokenImplementation)` ìœ¼ë¡œ ìƒˆ í”„ë¡ì‹œ ìƒì„±
      3. `BridgeWrappedToken.initialize(name, symbol, solanaMint, decimals, bridge, owner)` í˜¸ì¶œ
      4. `solMintDecimals` ì— decimals ê¸°ë¡ ë°, ì´í›„ í˜¸ì¶œ ì‹œ **decimals ì¼ê´€ì„± ê²€ì¦**
      5. `BridgeWrappedToken(wrapped).mint(to, amount)` ì‹¤í–‰
    - ëª¨ë“  mint/burn ì€ **ì„œë²„ì˜ onlyOwner ê¶Œí•œ**ì„ í†µí•´ì„œë§Œ ì¼ì–´ë‚©ë‹ˆë‹¤.

  - **`burnForSolana(bytes32 solMintHash, address from, uint256 amount)` (onlyOwner)**  
    - í˜¸ì¶œ ì£¼ì²´: **ë¦´ë ˆì´ ì„œë²„**  
    - ì—­í• : MemeCore â†’ Solana ì–¸ë© ì‹œ, ì‚¬ìš©ìì˜ M-Token ì„ **ì•ˆì „í•˜ê²Œ ì†Œê°**  
    - ì˜¤í”„ì²´ì¸ì—ì„œ `ethers.verifyMessage` ë¡œ ì‚¬ìš©ìì˜ ì„œëª…ì„ ê²€ì¦í•œ ë’¤,  
      ê²€ì¦ëœ `from` ì£¼ì†Œì™€ `amount` ë¥¼ ì‚¬ìš©í•´ `BridgeWrappedToken(wrapped).burn(from, amount)` í˜¸ì¶œ.

#### 3-2. `BridgeWrappedToken.sol` â€“ Wrapped Asset

- **ì—­í• **: Solana SPL í† í°ì„ MemeCore ìƒì—ì„œ í‘œí˜„í•˜ëŠ” **ERC20 ë©í•‘ í† í°(M-Token)** êµ¬í˜„ì²´

- **ì£¼ìš” ìƒíƒœê°’**
  - `address public bridge;` â€“ ìœ ì¼í•˜ê²Œ mint/burn ê¶Œí•œì„ ê°€ì§„ Bridge (ë³´í†µ BridgeFactory)
  - `string public solanaMint;` â€“ ì›ë³¸ SPL Mint ì£¼ì†Œ(Base58 ë¬¸ìì—´)
  - `_customName`, `_customSymbol`, `_customDecimals` â€“ í”„ë¡ì‹œ ì´ˆê¸°í™”ìš© ë©”íƒ€ë°ì´í„°
  - `bool private _initialized;` â€“ `initialize` ê°€ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë„ë¡ ë³´ì¥

- **ë³´ì•ˆ ì œì–´**
  - `modifier onlyBridge`  
    - `mint`, `burn` ì€ ëª¨ë‘ **onlyBridge** ë¡œ ë³´í˜¸  
    - ì˜¤ë„ˆ í¬í•¨ ëˆ„êµ¬ë„ ì§ì ‘ ë°œí–‰/ì†Œê° ë¶ˆê°€ â†’ **BridgeFactory ë‹¨ì¼ ê²Œì´íŠ¸**ë¥¼ ê°•ì œ

- **ì£¼ìš” í•¨ìˆ˜**

  - **`constructor()`**
    - êµ¬í˜„ì²´ ìˆ˜ì¤€ì—ì„œì˜ ë”ë¯¸ ìƒì„±ì (í”„ë¡ì‹œì—ì„œëŠ” í˜¸ì¶œë˜ì§€ ì•ŠìŒ)

  - **`initialize(...)`**
    - EIP-1167 í”„ë¡ì‹œ ì´ˆê¸°í™”ìš© í•¨ìˆ˜
    - `_initialized == false` ì¸ì§€ ê²€ì‚¬ â†’ ì¬ì´ˆê¸°í™” ë°©ì§€
    - ì´ë¦„/ì‹¬ë³¼/decimals/Solana Mint/Bridge/Owner ë¥¼ í•œ ë²ˆì— ì„¸íŒ…

  - **`name()`, `symbol()`, `decimals()` override**
    - í‘œì¤€ ERC20 ì¸í„°í˜ì´ìŠ¤ë¥¼ ìœ ì§€í•˜ë©´ì„œ, í”„ë¡ì‹œ íŒ¨í„´ì— ë§ì¶° `_custom*` í•„ë“œ ë°˜í™˜

  - **`mint(address to, uint256 amount)` / `burn(address from, uint256 amount)`**
    - ì˜¤ì§ `bridge` ì£¼ì†Œë§Œ í˜¸ì¶œ ê°€ëŠ¥ (`onlyBridge`)
    - ì‹¤ì œ ERC20 `_mint`, `_burn` ì„ ë˜í•‘í•˜ì—¬ ì‚¬ìš©

#### 3-3. `MemeCoreStaking.sol` â€“ Yield Engine

- **ì—­í• **: M-Token ì„ ìŠ¤í…Œì´í‚¹í•˜ê³ , ë°¸ë¦¬ë°ì´í„° ìˆ˜ìµ(ë„¤ì´í‹°ë¸Œ M)ì„ **ê³µì •í•˜ê²Œ ë¶„ë°°**í•˜ëŠ” ë‹¨ì¼ í’€

- **í•µì‹¬ ìƒíƒœê°’**
  - `IWrappedToken public mxToken;` â€“ ìŠ¤í…Œì´í‚¹ ëŒ€ìƒ í† í° (M-Token)
  - `struct StakerInfo { stakedAmount, stakedValueUSD, lastClaimTime, accumulatedRewards, rewardDebt, isUnstaking }`
  - `mapping(address => StakerInfo) public stakers;`
  - `uint256 public totalStakedAmount;`
  - `uint256 public currentTokenPriceUSD;` â€“ 8 decimals
  - `uint256 public rewardPerShare;` â€“ 1e18 ìŠ¤ì¼€ì¼ì˜ ëˆ„ì  ë³´ìƒ ì§€ìˆ˜

- **ì•Œê³ ë¦¬ì¦˜**
  - MasterChef(SushiSwap) ìŠ¤íƒ€ì¼ì˜ **`rewardPerShare / rewardDebt`** êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬  
    **O(1)** ë³µì¡ë„ë¡œ ê° ì‚¬ìš©ìì˜ pending reward ë¥¼ ê³„ì‚°.

- **ì£¼ìš” í•¨ìˆ˜**

  - **`updatePrice(uint256 _priceUSD)` (onlyOwner)**  
    - ë¦´ë ˆì´ ì„œë²„(Oracle ì—­í• )ê°€ `.env` ì˜ `FAKE_PRICE` ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ í˜¸ì¶œ  
    - UIì—ì„œ TVL/ì˜ˆìƒ ìˆ˜ìµ ê³„ì‚°ì— ì‚¬ìš©

  - **`distributeDailyRewards()` (payable, onlyOwner)**  
    - Validator/Owner ê°€ `msg.value` ë§Œí¼ ë„¤ì´í‹°ë¸Œ M ì„ í’€ì— ì…ê¸ˆ  
    - `rewardPerShare += (msg.value * 1e18) / totalStakedAmount;`

  - **`stake(uint256 _amount)` / `requestUnstake()` / `claimRewards()`**
    - ëª¨ë“  ì•¡ì…˜ ì „ì— `_updateUserReward(msg.sender)` ë¥¼ í˜¸ì¶œí•˜ì—¬  
      ì§€ê¸ˆê¹Œì§€ ìŒ“ì¸ ë³´ìƒì„ `accumulatedRewards` ì— ë°˜ì˜
    - `claimRewards()` ì—ì„œ ì‹¤ì œë¡œ ë„¤ì´í‹°ë¸Œ M ì „ì†¡
    - `nonReentrant` ë¡œ ì¬ì§„ì… ê³µê²© ë°©ì§€

---

### 4. ğŸ–¥ï¸ ì˜¤í”„ì²´ì¸ êµ¬ì„±ìš”ì†Œ (Off-chain)

#### 4-1. Relay Server (`relay-server/index.js`)

Solana ì™€ MemeCore EVM ì‚¬ì´ë¥¼ ì—°ê²°í•˜ëŠ” **ì¤‘ê³„ ë…¸ë“œ**ì…ë‹ˆë‹¤.

- **1) Solana Vault ì…ê¸ˆ ëª¨ë‹ˆí„°ë§**
  - `pollSolanaDeposits()`  
    - `getSignaturesForAddress(vault)` ë¡œ ìµœê·¼ íŠ¸ëœì­ì…˜ ì¡°íšŒ
    - ì´ë¯¸ ì²˜ë¦¬í•œ ì„œëª…ì€ `processed-deposits.json` ì— ê¸°ë¡í•˜ì—¬ **ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€**
  - `handleDepositSignature(signature)`  
    - `getParsedTransaction` ìœ¼ë¡œ SPL í† í° ì…ê¸ˆ ë‚´ì—­ íŒŒì‹±  
    - Vault ì˜ í† í° ì¦ê°€ë¶„(Delta)ì„ ê³„ì‚°í•˜ì—¬ ì‹¤ì œ ì…ê¸ˆëŸ‰ ì‚°ì¶œ  
    - í•´ë‹¹ Mint ê°€ `.env` ì˜ `SOLANA_TOKEN_MINT` ëª©ë¡ì— í¬í•¨ë˜ì–´ ìˆì„ ë•Œë§Œ ì²˜ë¦¬  
    - `BridgeFactory.mintFromSolana(...)` í˜¸ì¶œë¡œ **M-Token ë¯¼íŒ…**

- **2) Reverse Bridge (MemeCore â†’ Solana)**
  - ì—”ë“œí¬ì¸íŠ¸: `/api/unwrap`
  - í”Œë¡œìš°:
    1. í”„ë¡ íŠ¸ì—ì„œ `UNWRAP:amount:solAddr:timestamp` í˜•ì‹ì˜ ë©”ì‹œì§€ë¥¼ `signMessage` ë¡œ ì„œëª…
    2. ì„œë²„ì—ì„œ `ethers.verifyMessage` ë¡œ ì„œëª… ê²€ì¦ â†’ `evmAddress` ì¼ì¹˜ ì—¬ë¶€ í™•ì¸
    3. ì‚¬ìš©ìì˜ M-Token ì”ê³ /allowance í™•ì¸
    4. `BridgeFactory.burnForSolana(...)` í˜¸ì¶œë¡œ ì†Œê°
    5. `sendSplFromVault(toSolAddress, amount)` ë¡œ Solana Vault â†’ ì‚¬ìš©ì ì§€ê°‘ìœ¼ë¡œ SPL í† í° ì „ì†¡

- **3) Mock Oracle & ë³´ìƒ ë¶„ë°°**
  - `/api/update-price`  
    - `.env` ì˜ `FAKE_PRICE` ë¥¼ ì‚¬ìš©í•´ `MemeCoreStaking.updatePrice()` í˜¸ì¶œ (on-demand)
  - ì¼ì¼ ë³´ìƒ ë¶„ë°°ëŠ” **ìˆ˜ë™ ìŠ¤í¬ë¦½íŠ¸**(`scripts/manual-distribute.js`) ì™€  
    `npm run set-distribute`, `npm run distribute -- <amount>` ìœ¼ë¡œ í˜¸ì¶œ.

- **4) ê°„ë‹¨ Web ì„œë²„ + API**
  - ì •ì  íŒŒì¼: `relay-server/public/index.html`, `app.js`, `style.css` ì„œë¹™
  - `/api/set-dest-address` : ë¸Œë¦¿ì§€ ì¸ ì‹œ ëª©ì ì§€ EVM ì£¼ì†Œ ì„¤ì •
  - `/api/confirm-bridge` : íŠ¹ì • Solana íŠ¸ëœì­ì…˜ì´ ë¸Œë¦¿ì§€ ì²˜ë¦¬ë˜ì—ˆëŠ”ì§€ í™•ì¸

#### 4-2. Frontend (`relay-server/public/index.html`, `app.js`, `style.css`)

- **ë‹¨ì¼ í˜ì´ì§€(SPA)** í˜•íƒœë¡œ **Bridge + Staking + Live Dashboard** ì œê³µ
- **ì£¼ìš” íŠ¹ì§•**
  - **Retro Pixel UI & ë„¤íŠ¸ì›Œí¬ í‹°ì»¤**
    - ì‹¤ì‹œê°„ ë¸”ë¡ ë†’ì´, TPS ì¶”ì •, ì¼ì¼ ë¦¬ì›Œë“œ í’€ ì¶”ì •ì¹˜ ì• ë‹ˆë©”ì´ì…˜ í‘œì‹œ ì‹¤ì‹œê°„ ë¸”ë¡ ì§„í–‰ì„ ê²Œì´ì§€ í˜•íƒœë¡œ êµ¬í˜„
  - **ë©€í‹° ì›”ë › ì—°ê²°**
    - Phantom (Solana)
    - MetaMask (MemeCore EVM)
  - **Bridge íƒ­**
    - INBOUND (SOL â†’ EVM): Vault ë¡œ SPL ì „ì†¡ í›„, M-Token ìˆ˜ë ¹
    - OUTBOUND (EVM â†’ SOL): `UNWRAP` ì„œëª… â†’ M-Token ì†Œê° â†’ Solana ë¡œ í™˜ë¶ˆ
  - **Staking íƒ­**
    - ì§€ê°‘ ë‚´ M-Token ì”ê³ , ìŠ¤í…Œì´í‚¹ ìˆ˜ëŸ‰, TVL, ë‚´ ì§€ë¶„ %, ì˜ˆìƒ ì¼ì¼ ë¦¬ì›Œë“œ, Pending Reward í‘œì‹œ
    - `Approve & Stake`, `Unstake All`, `Claim` ë²„íŠ¼ ì œê³µ

---

### 5. ğŸ’» ì„¤ì¹˜ & ì‹¤í–‰ ë°©ë²• (Getting Started)

#### 5-1. ì‚¬ì „ ìš”êµ¬ ì‚¬í•­

- **Node.js** v16 ì´ìƒ
- **npm**
- ë¸Œë¼ìš°ì € í™•ì¥:
  - Phantom Wallet (Solana Devnet)
  - MetaMask (MemeCore Formicarium Testnet)

#### 5-2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (`.env`)

ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³ , ì•„ë˜ ì˜ˆì‹œë¥¼ ì°¸ê³ í•´ ê°’ì„ ì±„ì›ë‹ˆë‹¤.  
(`.env.example` ë„ í•¨ê»˜ ì œê³µë©ë‹ˆë‹¤)

```env
# --- Solana Config ---
SOLANA_RPC=https://api.devnet.solana.com
SOLANA_WALLET_PRIVATE_KEY=<YOUR_PHANTOM_PRIVATE_KEY>
SOLANA_VAULT_ADDRESS=<YOUR_SOLANA_VAULT_PUBKEY>
SOLANA_TOKEN_MINT=<TARGET_SPL_TOKEN_MINTS>   # ì—¬ëŸ¬ mint ì§€ì› ì‹œ ì½¤ë§ˆ êµ¬ë¶„

# --- MemeCore Network Config ---
MEMECORE_RPC=https://rpc.formicarium.memecore.net
MEMECORE_CHAIN_ID=43521
MEMECORE_PRIVATE_KEY=<YOUR_EVM_PRIVATE_KEY>
VALIDATOR_PRIVATE_KEY=<YOUR_RELAY_KEY>       # ë³´ìƒ/ë¸Œë¦¿ì§€ íŠ¸ëœì­ì…˜ì— ì‚¬ìš©
DEFAULT_MEMECORE_ADDRESS=0x<ê¸°ë³¸ ë¸Œë¦¿ì§€ ëª©ì ì§€ ì£¼ì†Œ>

# --- Contracts (ë°°í¬ í›„ ì±„ì›€) ---
BRIDGE_FACTORY_ADDR=
STAKING_CONTRACT_ADDR=

# --- Relay Settings ---
FAKE_PRICE=1.5  # í…ŒìŠ¤íŠ¸ìš© Mock Oracle ê°€ê²©(USD)
```

#### 5-3. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
```

#### 5-4. ì»¨íŠ¸ë™íŠ¸ ë°°í¬ (Hardhat)

- **1) BridgeWrappedToken êµ¬í˜„ì²´ + BridgeFactory ë°°í¬**

```bash
# ìŠ¤í¬ë¦½íŠ¸ ì§ì ‘ ì‹¤í–‰
npx hardhat run scripts/deploy.js

# ë˜ëŠ” package.json ì— ì •ì˜ëœ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
npm run deploy-memecore
```

- ì½˜ì†”ì— ì¶œë ¥ë˜ëŠ”:
  - `BridgeWrappedToken implementation deployed to: 0x...`
  - `BridgeFactory deployed to: 0x...`  
  ê°’ì„ `.env` ì˜ `BRIDGE_FACTORY_ADDR` ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.

- **2) ìŠ¤í…Œì´í‚¹ ì»¨íŠ¸ë™íŠ¸ ë°°í¬**

```bash
npx hardhat run scripts/deploy-staking.js
# ë˜ëŠ”
npm run deploy-staking
```

- ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‚´ë¶€ì—ì„œ:
  - `.env` ì˜ `SOLANA_TOKEN_MINT` ì¤‘ ì²« ë²ˆì§¸ Mint ë¥¼ `keccak256`  
  - `BridgeFactory.solMintToWrapped` ë¡œ í•´ë‹¹ Mint ì „ìš© ë©í† í° ì£¼ì†Œ ì¡°íšŒ
  - ê·¸ ì£¼ì†Œë¥¼ `_mxToken` ìœ¼ë¡œ ì‚¬ìš©í•´ `MemeCoreStaking` ë°°í¬
- ì¶œë ¥ëœ `MemeCoreStaking` ì£¼ì†Œë¥¼ `.env` ì˜ `STAKING_CONTRACT_ADDR` ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.

> **Tip:** ìŠ¤í…Œì´í‚¹ ì»¨íŠ¸ë™íŠ¸ëŠ” í˜„ì¬ **ëŒ€í‘œ Mint(ë°°ì—´ì˜ ì²« ë²ˆì§¸)** ì „ìš©ì…ë‹ˆë‹¤.  

#### 5-5. ë¦´ë ˆì´ ì„œë²„ & ì›¹ UI ì‹¤í–‰

```bash
npm run start-relay
```

- Oracle ì—”ë“œí¬ì¸íŠ¸, ë¸Œë¦¿ì§€ í´ë§, HTTP ì„œë²„ê°€ í•œ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.
- ì½˜ì†”ì— ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì€ ë¡œê·¸ê°€ ëœ¹ë‹ˆë‹¤.
  - `Relay server started (RPC-based BridgeFactory). Web UI: http://localhost:3000`

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000` ì ‘ì† í›„:

- **Bridge íƒ­** â€“ Solana â†” MemeCore ë¸Œë¦¿ì§€
- **Staking íƒ­** â€“ M-Token ìŠ¤í…Œì´í‚¹, ì–¸ìŠ¤í…Œì´í‚¹, ë³´ìƒ ì²­êµ¬

### 5. ğŸ—ºï¸ ì‚¬ìš© í”Œë¡œìš° ì˜ˆì‹œ (End-to-End Flow)

#### 5-1. Solana â†’ MemeCore ë¸Œë¦¿ì§€ ì¸

1. Phantom ì§€ê°‘ ì—°ê²°
2. **Bridge íƒ­**ì—ì„œ:
   - INBOUND ëª¨ë“œ ì„ íƒ
   - ì „ì†¡í•  SPL í† í° Mint / ìˆ˜ëŸ‰ / ëª©ì ì§€ EVM ì£¼ì†Œ ì…ë ¥
3. `INITIATE WARP` í´ë¦­ í›„ Phantom ì—ì„œ ì „ì†¡ ì„œëª…
4. ë¦´ë ˆì´ ì„œë²„ê°€ Solana Vault ì…ê¸ˆì„ ê°ì§€ â†’ `mintFromSolana` í˜¸ì¶œ
5. ì§€ì •í•œ EVM ì£¼ì†Œë¡œ **M-Token ì…ê¸ˆ ì™„ë£Œ**

#### 5-2. M-Token ìŠ¤í…Œì´í‚¹ & ë³´ìƒ ìˆ˜ë ¹

1. MetaMask ë¥¼ MemeCore Formicarium Testnet ì— ì—°ê²°  
   (í•„ìš” ì‹œ, UI ì˜ â€œSwitch Network to MemeCore Testnetâ€ ë²„íŠ¼ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ì¶”ê°€)
2. **Staking íƒ­**ì—ì„œ:
   - ìŠ¤í…Œì´í‚¹í•  ìˆ˜ëŸ‰ ì…ë ¥ â†’ `APPROVE & STAKE`
3. Validator/Owner ê°€ í•„ìš” ì‹œ `npm run set-distribute` / `npm run distribute -- <amount>` ì‹¤í–‰
4. ì‚¬ìš©ìëŠ” ì–¸ì œë“  **`CLAIM` ë²„íŠ¼**ìœ¼ë¡œ ë„¤ì´í‹°ë¸Œ M ë³´ìƒì„ ìˆ˜ë ¹

#### 5-3. MemeCore â†’ Solana ë¸Œë¦¿ì§€ ì•„ì›ƒ

1. **Bridge íƒ­**ì—ì„œ OUTBOUND ëª¨ë“œ ì„ íƒ
2. Solana ìˆ˜ì‹  ì§€ê°‘ ì£¼ì†Œ + ì–¸ë©í•  M-Token ìˆ˜ëŸ‰ ì…ë ¥
3. MetaMask ì—ì„œ `UNWRAP:amount:solAddr:timestamp` ë©”ì‹œì§€ ì„œëª…
4. ë¦´ë ˆì´ ì„œë²„:
   - ì„œëª… ê²€ì¦ â†’ `burnForSolana` í˜¸ì¶œë¡œ M-Token ì†Œê°
   - `sendSplFromVault` ë¡œ Solana Vault â†’ ì‚¬ìš©ì Solana ì§€ê°‘ìœ¼ë¡œ SPL í† í° ì „ì†¡
5. Phantom ì§€ê°‘ì—ì„œ ì›ë˜ SPL í† í° ìˆ˜ë ¹

---

### 6. ğŸ—ºï¸ ë¡œë“œë§µ (Future Roadmap)

- **ğŸš€ Phase 2: Native Boost**
  - MemeCore ë„¤ì´í‹°ë¸Œ ë°ˆì½”ì¸ì— ëŒ€í•´ **ë¶€ìŠ¤íŠ¸ ë©€í‹°í”Œë¼ì´ì–´(+10~30%)** ì ìš©

- **ğŸŒ Phase 3: Multi-Chain Expansion**
  - í˜„ì¬ MVP ëŠ” **Solana â†” MemeCore** ì— í¬ì»¤ìŠ¤
  - `BridgeFactory` êµ¬ì¡°ìƒ, Base / Tron / Ethereum / BNB ë“±ìœ¼ë¡œ í™•ì¥ ìš©ì´  
  - ì²´ì¸ ë³„ Mint ì‹ë³„ìë¥¼ `bytes32` ë¡œ ì¶”ìƒí™”í•˜ì—¬ í™•ì¥ì„± í™•ë³´

- **ğŸ›¡ï¸ Phase 4: ì™„ì „ íƒˆì¤‘ì•™í™” ë¸Œë¦¿ì§€**
  - ë‹¨ì¼ ë¦´ë ˆì´ ì„œë²„ â†’ **MPC & íƒˆì¤‘ì•™ Oracle ë„¤íŠ¸ì›Œí¬** ë¡œ ëŒ€ì²´
  - ë‹¤ì¤‘ ì„œëª… / CCIP(Chainlink Cross-Chain Interoperability Protocol) ë“±ê³¼ ì—°ê³„í•˜ì—¬  
    ì‹ ë¢° ìµœì†Œí™” ë¸Œë¦¿ì§€ ë°©í–¥ìœ¼ë¡œ ì§„í™”
